import{r as l,u as h,j as e,H as M,a as q}from"./app-BJQngx_W.js";import{A as L,c as A,a as b}from"./AuthenticatedLayout-B09mpbgj.js";import{F as E}from"./PlusIcon-DDOG2yN8.js";import{F as U}from"./MagnifyingGlassIcon-BKIkyzPy.js";import"./CalendarIcon-CH9x5dg0.js";function I({auth:R,facilities:j}){const[f,d]=l.useState(!1),[y,u]=l.useState(!1),[v,m]=l.useState(!1),[r,o]=l.useState(null),[n,N]=l.useState(""),t=h({name:"",description:"",capacity:"",price_per_hour:"",slot_duration:"4",image:"",amenities:"",location:"",status:"available"}),a=h({name:"",description:"",capacity:"",price_per_hour:"",slot_duration:"4",image:"",amenities:"",location:"",status:""}),x=j.filter(s=>s.name.toLowerCase().includes(n.toLowerCase())||s.location?.toLowerCase().includes(n.toLowerCase())||s.status.toLowerCase().includes(n.toLowerCase())),w=()=>{t.reset(),d(!0)},i=()=>{d(!1),t.reset()},C=s=>{o(s),a.setData({name:s.name,description:s.description,capacity:s.capacity,price_per_hour:s.price_per_hour,slot_duration:s.slot_duration||"4",image:s.image||"",amenities:s.amenities||"",location:s.location||"",status:s.status}),u(!0)},c=()=>{u(!1),o(null),a.reset()},_=s=>{o(s),m(!0)},p=()=>{m(!1),o(null)},D=s=>{s.preventDefault(),t.post(route("admin.facilities.store"),{onSuccess:()=>{i()}})},k=s=>{s.preventDefault(),a.put(route("admin.facilities.update",r.id),{onSuccess:()=>{c()}})},F=()=>{q.delete(route("admin.facilities.destroy",r.id),{onSuccess:()=>{p()}})},S=s=>{const g={available:"bg-green-100 text-green-800",maintenance:"bg-yellow-100 text-yellow-800",unavailable:"bg-red-100 text-red-800"};return g[s]||g.available};return e.jsxs(L,{children:[e.jsx(M,{title:"Manage Facilities"}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Manage Facilities"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Create, edit, and manage ODEC facilities"})]}),e.jsxs("button",{onClick:w,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(E,{className:"h-5 w-5 mr-2"}),"Add Facility"]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(U,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search facilities by name, location, or status...",value:n,onChange:s=>N(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(s=>e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsx("img",{src:s.image||"https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&auto=format&fit=crop",alt:s.name,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.name}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S(s.status)}`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:s.description}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium mr-2",children:"Capacity:"}),e.jsxs("span",{children:[s.capacity," people"]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium mr-2",children:"Price:"}),e.jsxs("span",{children:["$",s.price_per_hour,"/hour"]})]}),s.location&&e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium mr-2",children:"Location:"}),e.jsx("span",{children:s.location})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>C(s),className:"flex-1 px-3 py-2 text-sm bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors",children:"Edit"}),e.jsx("button",{onClick:()=>_(s),className:"flex-1 px-3 py-2 text-sm bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:"Delete"})]})]})]},s.id))}),x.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(A,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No facilities found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new facility."})]})]})}),f&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create New Facility"}),e.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600",children:e.jsx(b,{className:"h-6 w-6"})})]}),e.jsxs("form",{onSubmit:D,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Facility Name *"}),e.jsx("input",{type:"text",value:t.data.name,onChange:s=>t.setData("name",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),t.errors.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.errors.name})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),e.jsx("textarea",{value:t.data.description,onChange:s=>t.setData("description",s.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),t.errors.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.errors.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity *"}),e.jsx("input",{type:"number",min:"1",value:t.data.capacity,onChange:s=>t.setData("capacity",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),t.errors.capacity&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.errors.capacity})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price per Hour ($) *"}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:t.data.price_per_hour,onChange:s=>t.setData("price_per_hour",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),t.errors.price_per_hour&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.errors.price_per_hour})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slot Duration (hours) *"}),e.jsxs("select",{value:t.data.slot_duration,onChange:s=>t.setData("slot_duration",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"1",children:"1 hour"}),e.jsx("option",{value:"2",children:"2 hours"}),e.jsx("option",{value:"3",children:"3 hours"}),e.jsx("option",{value:"4",children:"4 hours"}),e.jsx("option",{value:"5",children:"5 hours"}),e.jsx("option",{value:"6",children:"6 hours"})]}),t.errors.slot_duration&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.errors.slot_duration})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"}),e.jsx("input",{type:"text",value:t.data.image,onChange:s=>t.setData("image",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://example.com/image.jpg"}),t.errors.image&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.errors.image})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),e.jsx("input",{type:"text",value:t.data.location,onChange:s=>t.setData("location",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),t.errors.location&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.errors.location})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),e.jsxs("select",{value:t.data.status,onChange:s=>t.setData("status",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"available",children:"Available"}),e.jsx("option",{value:"maintenance",children:"Maintenance"}),e.jsx("option",{value:"unavailable",children:"Unavailable"})]}),t.errors.status&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.errors.status})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amenities"}),e.jsx("textarea",{value:t.data.amenities,onChange:s=>t.setData("amenities",s.target.value),rows:"2",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"WiFi, Projector, Air Conditioning, etc."}),t.errors.amenities&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.errors.amenities})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:t.processing,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:t.processing?"Creating...":"Create Facility"})]})]})]})}),y&&r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Edit Facility"}),e.jsx("button",{onClick:c,className:"text-gray-400 hover:text-gray-600",children:e.jsx(b,{className:"h-6 w-6"})})]}),e.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Facility Name *"}),e.jsx("input",{type:"text",value:a.data.name,onChange:s=>a.setData("name",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),a.errors.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.errors.name})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),e.jsx("textarea",{value:a.data.description,onChange:s=>a.setData("description",s.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),a.errors.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.errors.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity *"}),e.jsx("input",{type:"number",min:"1",value:a.data.capacity,onChange:s=>a.setData("capacity",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),a.errors.capacity&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.errors.capacity})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price per Hour ($) *"}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:a.data.price_per_hour,onChange:s=>a.setData("price_per_hour",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),a.errors.price_per_hour&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.errors.price_per_hour})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slot Duration (hours) *"}),e.jsxs("select",{value:a.data.slot_duration,onChange:s=>a.setData("slot_duration",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"1",children:"1 hour"}),e.jsx("option",{value:"2",children:"2 hours"}),e.jsx("option",{value:"3",children:"3 hours"}),e.jsx("option",{value:"4",children:"4 hours"}),e.jsx("option",{value:"5",children:"5 hours"}),e.jsx("option",{value:"6",children:"6 hours"})]}),a.errors.slot_duration&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.errors.slot_duration})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"}),e.jsx("input",{type:"text",value:a.data.image,onChange:s=>a.setData("image",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://example.com/image.jpg"}),a.errors.image&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.errors.image})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),e.jsx("input",{type:"text",value:a.data.location,onChange:s=>a.setData("location",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.errors.location&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.errors.location})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),e.jsxs("select",{value:a.data.status,onChange:s=>a.setData("status",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"available",children:"Available"}),e.jsx("option",{value:"maintenance",children:"Maintenance"}),e.jsx("option",{value:"unavailable",children:"Unavailable"})]}),a.errors.status&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.errors.status})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amenities"}),e.jsx("textarea",{value:a.data.amenities,onChange:s=>a.setData("amenities",s.target.value),rows:"2",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"WiFi, Projector, Air Conditioning, etc."}),a.errors.amenities&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.errors.amenities})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:c,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:a.processing,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:a.processing?"Updating...":"Update Facility"})]})]})]})}),v&&r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Delete Facility"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to delete ",e.jsx("strong",{children:r.name}),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:p,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:F,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Delete Facility"})]})]})})]})}export{I as default};
