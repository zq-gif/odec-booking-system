import{r as t,u as v,j as e,H as j}from"./app-a1AbCana.js";import{A as f}from"./AuthenticatedLayout-DkOsq6j-.js";import{F as N}from"./CheckCircleIcon-C6iO6PEe.js";import{F as y}from"./PhotoIcon-CNhs2FMF.js";import"./LanguageSwitcher-BLBouUFY.js";import"./MapPinIcon-eeWU7bx9.js";import"./CalendarIcon-bRvq59W7.js";function w({title:r,titleId:s,...a},o){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},a),r?t.createElement("title",{id:s},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const h=t.forwardRef(w);function Q({auth:r,paymentQrCode:s}){const{data:a,setData:o,post:u,processing:i,errors:c,reset:g}=v({qr_code:null}),[m,x]=t.useState(null),p=l=>{const d=l.target.files[0];if(d){o("qr_code",d);const n=new FileReader;n.onloadend=()=>{x(n.result)},n.readAsDataURL(d)}},b=l=>{l.preventDefault(),u(route("admin.settings.qr-code"),{forceFormData:!0,onSuccess:()=>{g(),x(null),window.location.reload()}})};return e.jsxs(f,{user:r.user,children:[e.jsx(j,{title:"QR Code"}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Payment QR Code"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Upload and manage payment QR code for customer transactions"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(h,{className:"h-6 w-6 text-blue-600 mr-2"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"QR Code Management"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Current QR Code"}),s?e.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-4 bg-gray-50",children:[e.jsx("img",{src:s.startsWith("http")||s.startsWith("/storage/")?s:`/storage/${s}`,alt:"Payment QR Code",className:"max-w-full h-auto mx-auto",style:{maxHeight:"300px"}}),e.jsx("p",{className:"text-xs text-gray-500 text-center mt-2",children:"This QR code is displayed to users during booking"})]}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center bg-gray-50",children:[e.jsx(h,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No QR code uploaded yet"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Upload New QR Code"}),e.jsxs("form",{onSubmit:b,children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors bg-gray-50",children:[m?e.jsxs("div",{className:"mb-4",children:[e.jsx("img",{src:m,alt:"Preview",className:"max-w-full h-auto mx-auto rounded",style:{maxHeight:"200px"}}),e.jsxs("p",{className:"text-sm text-green-600 mt-2 flex items-center justify-center",children:[e.jsx(N,{className:"h-5 w-5 mr-1"}),"Ready to upload"]})]}):e.jsx(y,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),e.jsxs("label",{htmlFor:"qr-upload",className:"cursor-pointer",children:[e.jsx("span",{className:"text-blue-600 hover:text-blue-500 font-medium",children:"Choose QR Code Image"}),e.jsx("input",{id:"qr-upload",name:"qr-upload",type:"file",accept:"image/*",className:"sr-only",onChange:p})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"PNG, JPG up to 5MB"})]}),c.qr_code&&e.jsx("p",{className:"text-sm text-red-600 mt-2",children:c.qr_code}),e.jsx("button",{type:"submit",disabled:!a.qr_code||i,className:"mt-4 w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:i?"Uploading...":"Upload QR Code"})]}),e.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-800",children:[e.jsx("strong",{children:"Note:"})," This QR code will be shown to users when they select Cash on Arrival or Bank Transfer payment methods. Make sure it contains your bank account details for receiving payments."]})})]})]})]})]})})]})}export{Q as default};
