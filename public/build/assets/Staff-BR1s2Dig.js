import{r as n,u as k,j as e,H as S}from"./app-CHbY-PYB.js";import{A as C,a as F}from"./AuthenticatedLayout-Cxkwbyg7.js";import{F as E,a as A}from"./PlusIcon-COpR8vac.js";import{F as f}from"./UserGroupIcon-B49-YUqI.js";import{F as R,a as $}from"./PhoneIcon-BT7i8qWQ.js";import{F as D}from"./CalendarIcon-BanN74fl.js";import{F as q}from"./TrashIcon-C1xJqWnv.js";import{F as T}from"./CheckCircleIcon-DWfbpclb.js";import"./Footer-rB7AEGOC.js";import"./MapPinIcon-B0bIzyuL.js";function P({title:c,titleId:r,...x},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},x),c?n.createElement("title",{id:r},c):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const H=n.forwardRef(P);function J({auth:c,staff:r}){const[x,o]=n.useState(!1),[d,u]=n.useState(null),{data:l,setData:a,post:y,put:b,delete:j,processing:p,errors:s,reset:h}=k({name:"",email:"",phone:"",position:"",department:"",salary:"",hire_date:"",employment_type:"full-time",status:"active",address:"",emergency_contact_name:"",emergency_contact_phone:""}),g=(t=null)=>{t?(u(t),a({name:t.name,email:t.email,phone:t.phone,position:t.position,department:t.department,salary:t.salary||"",hire_date:t.hire_date,employment_type:t.employment_type,status:t.status,address:t.address||"",emergency_contact_name:t.emergency_contact_name||"",emergency_contact_phone:t.emergency_contact_phone||""})):(u(null),h()),o(!0)},m=()=>{o(!1),u(null),h()},N=t=>{t.preventDefault(),d?b(route("admin.staff.update",d.id),{onSuccess:()=>m()}):y(route("admin.staff.store"),{onSuccess:()=>m()})},v=t=>{confirm(`Are you sure you want to delete ${t.name}?`)&&j(route("admin.staff.destroy",t.id))},w=t=>{const i={active:"bg-green-100 text-green-800",inactive:"bg-red-100 text-red-800","on-leave":"bg-yellow-100 text-yellow-800"};return i[t]||i.active},_=t=>{const i={"full-time":"bg-blue-100 text-blue-800","part-time":"bg-purple-100 text-purple-800",contract:"bg-orange-100 text-orange-800"};return i[t]||i["full-time"]};return e.jsxs(C,{user:c.user,children:[e.jsx(S,{title:"Manage Staff"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Staff Management"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your staff members and their information"})]}),e.jsxs("button",{onClick:()=>g(),className:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-lg font-semibold text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition",children:[e.jsx(E,{className:"h-5 w-5 mr-2"}),"Add Staff Member"]})]}),e.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Staff"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.length})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-green-800",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:r.filter(t=>t.status==="active").length})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-blue-800",children:"Full-Time"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:r.filter(t=>t.employment_type==="full-time").length})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-purple-800",children:"Part-Time"}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:r.filter(t=>t.employment_type==="part-time").length})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Staff Member"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position & Department"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employment"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hire Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(f,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.name}),e.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx(R,{className:"h-4 w-4 mr-1"}),t.email]}),e.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx($,{className:"h-4 w-4 mr-1"}),t.phone]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(H,{className:"h-5 w-5 text-gray-400 mr-2 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.position}),e.jsx("div",{className:"text-sm text-gray-500",children:t.department})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${_(t.employment_type)}`,children:t.employment_type})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[e.jsx(D,{className:"h-4 w-4 text-gray-400 mr-2"}),new Date(t.hire_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w(t.status)}`,children:t.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>g(t),className:"inline-flex items-center px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition",children:[e.jsx(A,{className:"h-4 w-4 mr-1"}),"Edit"]}),e.jsxs("button",{onClick:()=>v(t),disabled:p,className:"inline-flex items-center px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition disabled:opacity-50",children:[e.jsx(q,{className:"h-4 w-4 mr-1"}),"Delete"]})]})})]},t.id))})]})}),r.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(f,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-semibold text-gray-900",children:"No staff members"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding a new staff member."})]})]})})})}),x&&e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:d?"Edit Staff Member":"Add New Staff Member"}),e.jsx("button",{onClick:m,className:"text-gray-400 hover:text-gray-500",children:e.jsx(F,{className:"h-6 w-6"})})]}),e.jsxs("form",{onSubmit:N,className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name *"}),e.jsx("input",{type:"text",value:l.name,onChange:t=>a("name",t.target.value),className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0}),s.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email *"}),e.jsx("input",{type:"email",value:l.email,onChange:t=>a("email",t.target.value),className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0}),s.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone *"}),e.jsx("input",{type:"tel",value:l.phone,onChange:t=>a("phone",t.target.value),className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0}),s.phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Position *"}),e.jsx("input",{type:"text",value:l.position,onChange:t=>a("position",t.target.value),className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0}),s.position&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.position})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Department *"}),e.jsx("input",{type:"text",value:l.department,onChange:t=>a("department",t.target.value),className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0}),s.department&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.department})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Salary"}),e.jsx("input",{type:"number",step:"0.01",value:l.salary,onChange:t=>a("salary",t.target.value),className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),s.salary&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.salary})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hire Date *"}),e.jsx("input",{type:"date",value:l.hire_date,onChange:t=>a("hire_date",t.target.value),className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0}),s.hire_date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.hire_date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Employment Type *"}),e.jsxs("select",{value:l.employment_type,onChange:t=>a("employment_type",t.target.value),className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"full-time",children:"Full-Time"}),e.jsx("option",{value:"part-time",children:"Part-Time"}),e.jsx("option",{value:"contract",children:"Contract"})]}),s.employment_type&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.employment_type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status *"}),e.jsxs("select",{value:l.status,onChange:t=>a("status",t.target.value),className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"on-leave",children:"On Leave"})]}),s.status&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.status})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),e.jsx("textarea",{value:l.address,onChange:t=>a("address",t.target.value),rows:2,className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),s.address&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.address})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Emergency Contact Name"}),e.jsx("input",{type:"text",value:l.emergency_contact_name,onChange:t=>a("emergency_contact_name",t.target.value),className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),s.emergency_contact_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.emergency_contact_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Emergency Contact Phone"}),e.jsx("input",{type:"tel",value:l.emergency_contact_phone,onChange:t=>a("emergency_contact_phone",t.target.value),className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),s.emergency_contact_phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.emergency_contact_phone})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:p,className:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-lg font-semibold text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition disabled:opacity-50",children:[e.jsx(T,{className:"h-5 w-5 mr-2"}),d?"Update":"Add"," Staff Member"]})]})]})]})})]})}export{J as default};
