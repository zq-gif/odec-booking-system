import{r as a,j as e,H as $,a as B}from"./app-iYoIkR1E.js";import{d as g,c as C,A as D,e as A}from"./AuthenticatedLayout-DInRMzxB.js";import{F as u}from"./CalendarDaysIcon-DQvYnzms.js";import{F as L}from"./FunnelIcon-CDT86Y8l.js";import"./Footer-Si0AIl-y.js";import"./MapPinIcon-DiDavvRO.js";import"./CalendarIcon-CORJ47ji.js";function E({title:r,titleId:t,...l},i){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},l),r?a.createElement("title",{id:t},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const M=a.forwardRef(E);function _({title:r,titleId:t,...l},i){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},l),r?a.createElement("title",{id:t},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const T=a.forwardRef(_);function U({title:r,titleId:t,...l},i){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},l),r?a.createElement("title",{id:t},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const p=a.forwardRef(U);function S({title:r,titleId:t,...l},i){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},l),r?a.createElement("title",{id:t},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const j=a.forwardRef(S);function I({auth:r,overviewStats:t,bookingTrends:l,revenueTrends:i,popularFacilities:m,popularActivities:x,recentBookings:b,userGrowth:y,filters:h}){const[d,f]=a.useState(h.start_date),[o,N]=a.useState(h.end_date),[c,v]=a.useState("overview"),w=s=>{s.preventDefault(),B.get(route("admin.reports"),{start_date:d,end_date:o},{preserveState:!0,preserveScroll:!0})},k=()=>{window.open(`/admin/reports/export?start_date=${d}&end_date=${o}&format=pdf`,"_blank")},F=[{title:"Total Revenue",value:`$${parseFloat(t.totalRevenue).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:p,iconBg:"bg-green-100",iconColor:"text-green-600",change:"+12.5%"},{title:"Total Bookings",value:t.totalBookings,icon:u,iconBg:"bg-blue-100",iconColor:"text-blue-600",change:"+8.3%"},{title:"New Users",value:t.newUsers,icon:g,iconBg:"bg-purple-100",iconColor:"text-purple-600",change:"+15.2%"},{title:"Active Services",value:t.availableFacilities+t.availableActivities,icon:C,iconBg:"bg-orange-100",iconColor:"text-orange-600",change:"+2"}],R=[{id:"overview",name:"Overview",icon:A},{id:"bookings",name:"Booking Analytics",icon:u},{id:"revenue",name:"Revenue Analytics",icon:p},{id:"users",name:"User Analytics",icon:g}];return e.jsxs(D,{user:r.user,children:[e.jsx($,{title:"Reports & Analytics"}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reports & Analytics"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Comprehensive insights into your booking system performance"})]}),e.jsxs("button",{onClick:k,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(M,{className:"h-5 w-5 mr-2"}),"Export Report"]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:e.jsxs("form",{onSubmit:w,className:"flex items-end gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(L,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Filter Period:"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Start Date"}),e.jsx("input",{type:"date",value:d,onChange:s=>f(s.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"End Date"}),e.jsx("input",{type:"date",value:o,onChange:s=>N(s.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",children:"Apply Filter"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:F.map((s,n)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`${s.iconBg} p-3 rounded-lg`,children:e.jsx(s.icon,{className:`h-6 w-6 ${s.iconColor}`})}),e.jsxs("span",{className:"text-green-600 text-sm font-semibold flex items-center",children:[e.jsx(T,{className:"h-4 w-4 mr-1"}),s.change]})]}),e.jsx("h3",{className:"text-gray-600 text-sm font-medium mb-1",children:s.title}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.value})]},n))}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:R.map(s=>e.jsxs("button",{onClick:()=>v(s.id),className:`${c===s.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} flex items-center whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors`,children:[e.jsx(s.icon,{className:"h-5 w-5 mr-2"}),s.name]},s.id))})})}),c==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue Breakdown"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Facility Bookings"}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",parseFloat(t.facilityRevenue).toLocaleString("en-US",{minimumFractionDigits:2})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${(t.facilityRevenue/t.totalRevenue*100).toFixed(1)}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Activity Bookings"}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",parseFloat(t.activityRevenue).toLocaleString("en-US",{minimumFractionDigits:2})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-600 h-2 rounded-full",style:{width:`${(t.activityRevenue/t.totalRevenue*100).toFixed(1)}%`}})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Booking Distribution"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Facilities"}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[t.facilityBookings," bookings"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:`${(t.facilityBookings/t.totalBookings*100).toFixed(1)}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Activities"}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[t.activityBookings," bookings"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${(t.activityBookings/t.totalBookings*100).toFixed(1)}%`}})})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(j,{className:"h-6 w-6 text-yellow-600 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Facilities"})]}),e.jsx("div",{className:"space-y-3",children:m.length>0?m.map((s,n)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 text-blue-600 font-bold text-sm mr-3",children:n+1}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.booking_count," bookings"]})]})]}),e.jsxs("span",{className:"font-semibold text-green-600",children:["$",parseFloat(s.revenue).toLocaleString("en-US",{minimumFractionDigits:2})]})]},n)):e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No facility bookings in this period"})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(j,{className:"h-6 w-6 text-yellow-600 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Activities"})]}),e.jsx("div",{className:"space-y-3",children:x.length>0?x.map((s,n)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-orange-100 text-orange-600 font-bold text-sm mr-3",children:n+1}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.booking_count," bookings â€¢ ",s.total_participants," participants"]})]})]}),e.jsxs("span",{className:"font-semibold text-green-600",children:["$",parseFloat(s.revenue).toLocaleString("en-US",{minimumFractionDigits:2})]})]},n)):e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No activity bookings in this period"})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Bookings"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map((s,n)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${s.type==="Facility"?"bg-blue-100 text-blue-800":"bg-orange-100 text-orange-800"}`,children:s.type})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.item_name}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:s.user_name}),e.jsx("div",{className:"text-xs text-gray-500",children:s.user_email})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.date}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-green-600",children:["$",parseFloat(s.amount).toLocaleString("en-US",{minimumFractionDigits:2})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${s.status==="confirmed"?"bg-green-100 text-green-800":s.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:s.status})})]},n))})]})})]})]}),c==="bookings"&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Booking Trends (Last 12 Months)"}),e.jsx("div",{className:"h-96 flex items-center justify-center text-gray-500",children:e.jsx("p",{children:"Chart visualization would go here (integrate Chart.js or similar library)"})}),e.jsx("div",{className:"mt-4 text-sm text-gray-600",children:e.jsxs("p",{children:["Data available: ",JSON.stringify(l.labels)]})})]}),c==="revenue"&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue Trends (Last 12 Months)"}),e.jsx("div",{className:"h-96 flex items-center justify-center text-gray-500",children:e.jsx("p",{children:"Chart visualization would go here (integrate Chart.js or similar library)"})}),e.jsx("div",{className:"mt-4 text-sm text-gray-600",children:e.jsxs("p",{children:["Data available: ",JSON.stringify(i.labels)]})})]}),c==="users"&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"User Growth (Last 12 Months)"}),e.jsx("div",{className:"h-96 flex items-center justify-center text-gray-500",children:e.jsx("p",{children:"Chart visualization would go here (integrate Chart.js or similar library)"})}),e.jsx("div",{className:"mt-4 text-sm text-gray-600",children:e.jsxs("p",{children:["Data available: ",JSON.stringify(y.labels)]})})]})]})})]})}export{I as default};
