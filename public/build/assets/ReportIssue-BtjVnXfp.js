import{r as l,j as e,H as I}from"./app-a1AbCana.js";import{A as R,h as D}from"./AuthenticatedLayout-DkOsq6j-.js";import{F as p}from"./PhotoIcon-CNhs2FMF.js";import{F as B}from"./CheckCircleIcon-C6iO6PEe.js";import"./LanguageSwitcher-BLBouUFY.js";import"./MapPinIcon-eeWU7bx9.js";import"./CalendarIcon-bRvq59W7.js";function A({title:m,titleId:o,...c},u){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:u,"aria-labelledby":o},c),m?l.createElement("title",{id:o},m):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const E=l.forwardRef(A);function z({auth:m}){const[o,c]=l.useState(!1),[u,b]=l.useState(""),[a,d]=l.useState({category:"",priority:"Medium - Needs attention",title:"",description:"",location:"",relatedBooking:"",attachments:[]}),[f,x]=l.useState(!1),j=()=>`ISS-${Math.floor(1e4+Math.random()*9e4)}`,y=["Select category","Facility Issue","Booking System","Payment Issue","Staff Service","Cleanliness","Safety Concern","Equipment Malfunction","Other"],N=["Low - Minor issue","Medium - Needs attention","High - Urgent","Critical - Immediate action required"],v=["Select a booking (if applicable)","Beach Area - ODEC-1234 (1/25/2024)","Conference Hall - ODEC-9012 (12/5/2023)","Basketball Court - ODEC-5678 (11/20/2023)"],i=s=>{const{name:t,value:r}=s.target;d(n=>({...n,[t]:r}))},g=s=>{s.preventDefault(),s.stopPropagation(),s.type==="dragenter"||s.type==="dragover"?x(!0):s.type==="dragleave"&&x(!1)},w=s=>{s.preventDefault(),s.stopPropagation(),x(!1),s.dataTransfer.files&&s.dataTransfer.files[0]&&h(s.dataTransfer.files)},k=s=>{s.target.files&&s.target.files[0]&&h(s.target.files)},h=s=>{const t=Array.from(s).filter(r=>{const n=["image/png","image/jpeg","image/jpg","image/gif"].includes(r.type),S=r.size<=10*1024*1024;return n&&S});d(r=>({...r,attachments:[...r.attachments,...t]}))},C=s=>{d(t=>({...t,attachments:t.attachments.filter((r,n)=>n!==s)}))},F=s=>{s.preventDefault();const t=j();b(t),console.log("Report submitted:",a,"Ticket:",t),c(!0)};return e.jsxs(R,{children:[e.jsx(I,{title:"Report Issue"}),e.jsx("div",{className:"py-8",children:e.jsx("div",{className:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8",children:o?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"rounded-full bg-green-100 p-6",children:e.jsx(B,{className:"h-16 w-16 text-green-600"})})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Issue Reported Successfully!"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"Your issue has been reported and our team will look into it."}),e.jsxs("p",{className:"text-sm text-gray-600 mb-8",children:["Ticket Number:"," ",e.jsx("span",{className:"font-semibold text-blue-600",children:u})]}),e.jsx("div",{className:"max-w-2xl mx-auto mb-8",children:e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 text-left",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-3",children:"What happens next?"}),e.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"mr-2",children:"•"}),e.jsx("span",{children:"Our team will review your issue within 24-48 hours."})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"mr-2",children:"•"}),e.jsx("span",{children:"You'll receive an email notification when there's an update."})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"mr-2",children:"•"}),e.jsx("span",{children:"You can track the status of your issue using the ticket number."})]})]})]})}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx("button",{onClick:()=>{c(!1),d({category:"",priority:"Medium - Needs attention",title:"",description:"",location:"",relatedBooking:"",attachments:[]})},className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Report Another Issue"}),e.jsx("button",{onClick:()=>window.location.href="/dashboard",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Return to Dashboard"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Report Issue"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Report any problems with facilities or the booking system"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 bg-yellow-50 px-6 py-4 rounded-t-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(D,{className:"h-5 w-5 text-yellow-600 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Issue Report Form"})]})}),e.jsxs("form",{onSubmit:F,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:["Issue Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{name:"category",value:a.category,onChange:i,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",children:y.map((s,t)=>e.jsx("option",{value:s,disabled:t===0,children:s},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Priority Level"}),e.jsx("select",{name:"priority",value:a.priority,onChange:i,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",children:N.map((s,t)=>e.jsx("option",{value:s,children:s},t))})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:["Issue Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"title",value:a.title,onChange:i,placeholder:"Brief title describing the issue",required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-400"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:["Issue Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{name:"description",value:a.description,onChange:i,placeholder:"Please provide detailed information about the issue",required:!0,rows:5,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-400 resize-none"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:["Location/Facility ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"location",value:a.location,onChange:i,placeholder:"Where did this issue occur?",required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Related Booking (Optional)"}),e.jsx("select",{name:"relatedBooking",value:a.relatedBooking,onChange:i,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",children:v.map((s,t)=>e.jsx("option",{value:s,children:s},t))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Attach Images/Files (Optional)"}),e.jsxs("div",{onDragEnter:g,onDragLeave:g,onDragOver:g,onDrop:w,className:`relative border-2 border-dashed rounded-lg p-8 text-center transition-colors ${f?"border-blue-500 bg-blue-50":"border-gray-300 bg-gray-50"}`,children:[e.jsx(p,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"file-upload",className:"text-blue-600 hover:text-blue-700 font-medium cursor-pointer",children:"Upload files"}),e.jsx("span",{className:"text-gray-600",children:" or drag and drop"}),e.jsx("input",{id:"file-upload",type:"file",multiple:!0,accept:"image/png,image/jpeg,image/jpg,image/gif",onChange:k,className:"hidden"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]}),a.attachments.length>0&&e.jsx("div",{className:"mt-4 space-y-2",children:a.attachments.map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(p,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm text-gray-900",children:s.name}),e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",(s.size/1024).toFixed(1)," KB)"]})]}),e.jsx("button",{type:"button",onClick:()=>C(t),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Remove"})]},t))})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs("button",{type:"submit",className:"flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors",children:[e.jsx(E,{className:"h-5 w-5 mr-2"}),"Submit Report"]})})]})]})]})})})]})}export{z as default};
