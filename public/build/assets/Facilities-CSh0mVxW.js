import{r as o,j as s,H as h,L as l}from"./app-CJts7DaT.js";import{A as g}from"./AuthenticatedLayout-CwYqaT18.js";import{F as p}from"./MagnifyingGlassIcon-BqmXy8B8.js";import{F as b}from"./FunnelIcon-CPlIEru4.js";import"./LanguageSwitcher-DJpxAkp4.js";import"./MapPinIcon-CE9uUH4B.js";import"./CalendarIcon-in95vViw.js";function L({auth:v,facilities:n=[]}){const[t,i]=o.useState(""),[a,d]=o.useState("all"),c=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"All",m=["all","available","unavailable","maintenance"],r=n.filter(e=>{const x=e.name.toLowerCase().includes(t.toLowerCase())||e.description&&e.description.toLowerCase().includes(t.toLowerCase())||e.location&&e.location.toLowerCase().includes(t.toLowerCase()),u=a==="all"||e.status===a;return x&&u});return s.jsxs(g,{children:[s.jsx(h,{title:"Facilities"}),s.jsx("div",{className:"py-8",children:s.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"mb-6",children:s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Browse and book ODEC facilities"})}),s.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(p,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search facilities...",value:t,onChange:e=>i(e.target.value),className:"w-full rounded-lg border border-gray-300 py-2 pl-10 pr-4 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(b,{className:"h-5 w-5 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter:"}),m.map(e=>s.jsx("button",{onClick:()=>d(e),className:`rounded-lg px-4 py-2 text-sm font-medium transition-colors ${a===e?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-300"}`,children:e},e))]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:r.map(e=>s.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow-sm transition-shadow hover:shadow-md",children:[s.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.jsx("img",{src:e.image?e.image.startsWith("http")||e.image.startsWith("/storage/")?e.image:`/storage/${e.image}`:"https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&auto=format&fit=crop",alt:e.name,className:"h-full w-full object-cover transition-transform hover:scale-105"}),s.jsx("span",{className:`absolute left-3 top-3 rounded-full px-3 py-1 text-xs font-medium ${e.status==="available"?"bg-green-100 text-green-800":e.status==="unavailable"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:c(e.status)})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"mb-2 text-lg font-semibold text-gray-900",children:e.name}),s.jsx("p",{className:"mb-2 text-sm text-gray-600",children:e.description}),s.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm font-semibold text-blue-600",children:["RM ",e.price_per_hour,"/hour"]}),e.location&&s.jsx("p",{className:"text-xs text-gray-500",children:e.location})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(l,{href:"/vr-tour",className:"flex-1 rounded-lg border border-gray-300 bg-white px-4 py-2 text-center text-sm font-medium text-gray-700 transition-colors hover:bg-gray-50",children:"VR Tour"}),s.jsx(l,{href:`/book-facility?facility=${e.id}`,className:`flex-1 rounded-lg px-4 py-2 text-center text-sm font-medium text-white transition-colors ${e.status==="available"?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"}`,disabled:e.status!=="available",children:e.status==="available"?"Book Now":"Unavailable"})]})]})]},e.id))}),r.length===0&&s.jsx("div",{className:"py-12 text-center",children:s.jsx("p",{className:"text-gray-500",children:"No facilities found matching your criteria."})})]})})]})}export{L as default};
