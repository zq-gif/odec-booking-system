import{r as i,j as e,H as y,a as r}from"./app-CJts7DaT.js";import{A as j,m as N}from"./AuthenticatedLayout-CwYqaT18.js";import{F as v}from"./StarIcon-CXl4KS_f.js";import{F as k}from"./StarIcon-C9rS_DcU.js";import"./LanguageSwitcher-DJpxAkp4.js";import"./MapPinIcon-CE9uUH4B.js";import"./CalendarIcon-in95vViw.js";function D({auth:w,booking:o}){const[a,m]=i.useState(0),[x,c]=i.useState(0),[n,u]=i.useState(""),[d,b]=i.useState([]),t=o||{id:1,facility:"Beach Area",date:"2023-12-15",ref:"ODEC-1234"},f=[{id:"cleanliness",label:"Cleanliness"},{id:"value",label:"Value for Money"},{id:"facilities",label:"Facilities"},{id:"staff",label:"Staff"},{id:"booking_process",label:"Booking Process"},{id:"location",label:"Location"}],h=s=>{b(l=>l.includes(s)?l.filter(p=>p!==s):[...l,s])},g=s=>{s.preventDefault(),a!==0&&r.post("/feedback/submit",{booking_id:t.id,booking_type:o?.type||"facility",booking_reference:t.ref,overall_rating:a,comment:n,aspects:d,would_recommend:a>=4},{onSuccess:()=>{r.visit("/my-bookings")},onError:l=>{console.error("Feedback submission error:",l)}})};return e.jsxs(j,{children:[e.jsx(y,{title:`Feedback for ${t.facility}`}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Feedback"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Share your experience with ODEC facilities"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Feedback for ",t.facility]}),e.jsx("button",{onClick:()=>r.visit("/feedback"),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Change Selection"})]})}),e.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 pb-6 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Facility:"}),e.jsx("p",{className:"font-semibold text-gray-900",children:t.facility})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Date:"}),e.jsx("p",{className:"font-semibold text-gray-900",children:t.date})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Reference:"}),e.jsx("p",{className:"font-semibold text-gray-900",children:t.ref})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"How would you rate your experience?"}),e.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(s=>e.jsx("button",{type:"button",onClick:()=>m(s),onMouseEnter:()=>c(s),onMouseLeave:()=>c(0),className:"focus:outline-none transition-transform hover:scale-110",children:s<=(x||a)?e.jsx(v,{className:"h-10 w-10 text-yellow-400"}):e.jsx(k,{className:"h-10 w-10 text-gray-300"})},s))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"comments",className:"block text-sm font-medium text-gray-900 mb-2",children:"Comments"}),e.jsx("textarea",{id:"comments",rows:6,value:n,onChange:s=>u(s.target.value),placeholder:"Please share your thoughts about the facility, staff, booking process, etc.",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"What aspects would you like to comment on? (Optional)"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:f.map(s=>e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:d.includes(s.id),onChange:()=>h(s.id),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:s.label})]},s.id))})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs("button",{type:"submit",disabled:a===0,className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:[e.jsx(N,{className:"h-5 w-5 mr-2"}),"Submit Feedback"]})})]})]})]})})]})}export{D as default};
