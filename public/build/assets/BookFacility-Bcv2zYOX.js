import{r as p,d as F,j as e,H}from"./app-s6pwwy2x.js";import{A as L,l as C,k as U}from"./AuthenticatedLayout-BAW8dTg5.js";import{F as W,a as V,E as z,b as Y,c as G}from"./EquipmentSelector-aoHOztb9.js";import{F as M}from"./CalendarIcon-C2Ft0ATI.js";import{F as B}from"./CheckCircleIcon-rGvj5HzH.js";import{F as J}from"./MapPinIcon-DjXRQCS2.js";import{F as K}from"./ClockIcon-Cu2AkI-W.js";import"./LanguageSwitcher-Bj3FRQ14.js";import"./PlusIcon-DFTFzfB2.js";function ie({auth:f,facilities:S,paymentQrCode:n}){const[t,y]=p.useState(1),[c,D]=p.useState(""),[_,$]=p.useState([]),[R,N]=p.useState(!1),[s,i]=p.useState({facility:null,date:"",time:"",name:f.user.name,email:f.user.email,phone:"",attendees:"",purpose:"",paymentMethod:"",receiptFile:null,equipment:[]}),P=(()=>{const a=s.facility?.slot_duration||4,r=[],h=8,j=22;for(let d=h;d+a<=j;d+=a){const g=d.toString().padStart(2,"0")+":00",l=(d+a).toString().padStart(2,"0")+":00",o=d<12?`${d}:00 AM`:d===12?"12:00 PM":`${d-12}:00 PM`;r.push({value:g,label:o,endTime:l,duration:a})}return r})();p.useEffect(()=>{s.facility&&s.date&&A()},[s.facility,s.date]);const A=async()=>{N(!0);try{console.log("Fetching booked slots for:",{facility_id:s.facility.id,date:s.date});const a=await F.get("/api/facility-bookings/booked-slots",{params:{facility_id:s.facility.id,date:s.date}});console.log("Booked slots received:",a.data),$(a.data)}catch(a){console.error("Error fetching booked slots:",a),console.error("Error response:",a.response?.data)}N(!1)},T=a=>_.some(r=>r.start_time===a+":00"||r.start_time===a),v=[{number:1,name:"Select Facility",icon:C},{number:2,name:"Choose Date & Time",icon:M},{number:3,name:"Enter Details",icon:C},{number:4,name:"Payment",icon:W},{number:5,name:"Confirmation",icon:V}],u=()=>{t<5&&y(t+1)},E=()=>{t>1&&y(t-1)},I=a=>{i({...s,facility:a}),u()},x=()=>{if(!s.facility?.price_per_hour)return 0;const a=s.facility?.slot_duration||4;return(parseFloat(s.facility.price_per_hour)*a).toFixed(2)},m=()=>{const a=x();return(parseFloat(a)*.1).toFixed(2)},b=()=>{const a=x(),r=m();return(parseFloat(a)-parseFloat(r)).toFixed(2)},O=()=>{window.print()},q=async a=>{a.preventDefault();const r=s.facility?.slot_duration||4,h=s.time,[j]=h.split(":"),g=`${(parseInt(j)+r).toString().padStart(2,"0")}:00`;try{const l=new FormData;l.append("facility_id",s.facility.id),l.append("booking_date",s.date),l.append("start_time",h),l.append("end_time",g),l.append("duration_hours",r),l.append("number_of_guests",parseInt(s.attendees)),l.append("purpose",s.purpose),l.append("phone_number",s.phone),l.append("payment_method",s.paymentMethod),s.equipment&&s.equipment.length>0&&s.equipment.forEach((w,k)=>{l.append(`equipment[${k}][id]`,w.id),l.append(`equipment[${k}][quantity]`,w.quantity)}),s.receiptFile&&l.append("payment_receipt",s.receiptFile);const o=await F.post("/facility-bookings",l,{headers:{"Content-Type":"multipart/form-data"}});console.log("Response data:",o.data),o.data.success?(D(o.data.reference_number),u()):alert(o.data.message||"Booking failed. Please try again.")}catch(l){if(console.error("Booking error:",l),l.response?.data?.errors){const o=Object.values(l.response.data.errors).flat().join(`
`);alert(`Validation errors:
`+o)}else alert("An error occurred while creating your booking. Please try again.")}};return e.jsxs(L,{children:[e.jsx(H,{title:"Book a Facility"}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Book a Facility"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Reserve ODEC facilities for your events"})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex items-center justify-between",children:v.map((a,r)=>e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-full border-2 ${t>=a.number?"bg-blue-600 border-blue-600":"bg-white border-gray-300"}`,children:e.jsx(a.icon,{className:`h-6 w-6 ${t>=a.number?"text-white":"text-gray-400"}`})}),e.jsx("p",{className:`mt-2 text-xs font-medium ${t>=a.number?"text-blue-600":"text-gray-500"}`,children:a.name})]}),r<v.length-1&&e.jsx("div",{className:`flex-1 h-0.5 mx-4 ${t>a.number?"bg-blue-600":"bg-gray-300"}`})]},a.number))})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[t===1&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Select a Facility"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:S.map(a=>e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>I(a),children:[e.jsx("img",{src:a.image.startsWith("http")||a.image.startsWith("/storage/")?a.image:`/storage/${a.image}`,alt:a.name,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a.name}),e.jsxs("span",{className:"text-blue-600 font-bold",children:["$",a.price_per_hour,"/hour"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:a.description}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Capacity: ",a.capacity]}),e.jsx("button",{className:"mt-4 w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700",children:"Select"})]})]},a.id))})]}),t===2&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Choose Date & Time"}),e.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selected Facility"}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:s.facility?.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["$",s.facility?.price_per_hour,"/hour"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),e.jsx("input",{type:"date",value:s.date,onChange:a=>i({...s,date:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:new Date().toISOString().split("T")[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Time Slot"}),R?e.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading available slots..."}):s.date?e.jsx("div",{className:"grid grid-cols-2 gap-3",children:P.map(a=>{const r=T(a.value),h=s.time===a.value;return e.jsxs("button",{type:"button",disabled:r,onClick:()=>!r&&i({...s,time:a.value}),className:`p-3 rounded-lg border-2 text-center transition-all ${r?"bg-red-100 border-red-300 text-red-500 cursor-not-allowed":h?"bg-blue-600 border-blue-600 text-white":"bg-green-50 border-green-300 text-green-700 hover:bg-green-100 cursor-pointer"}`,children:[e.jsx("div",{className:"font-semibold",children:a.label}),e.jsx("div",{className:"text-xs mt-1",children:r?"Booked":"Available"})]},a.value)})}):e.jsx("div",{className:"text-center py-4 text-gray-500",children:"Please select a date first"}),e.jsxs("div",{className:"flex gap-4 mt-3 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-3 h-3 bg-green-100 border border-green-300 rounded"}),e.jsx("span",{children:"Available"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-3 h-3 bg-red-100 border border-red-300 rounded"}),e.jsx("span",{children:"Booked"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-3 h-3 bg-blue-600 rounded"}),e.jsx("span",{children:"Selected"})]})]})]})]})]}),t===3&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Enter Booking Details"}),e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),e.jsx("input",{type:"text",value:s.name,onChange:a=>i({...s,name:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:s.email,onChange:a=>i({...s,email:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),e.jsx("input",{type:"tel",value:s.phone,onChange:a=>i({...s,phone:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Attendees"}),e.jsx("input",{type:"number",value:s.attendees,onChange:a=>i({...s,attendees:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purpose of Booking"}),e.jsx("textarea",{value:s.purpose,onChange:a=>i({...s,purpose:a.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),e.jsx("div",{className:"border-t border-gray-200 pt-6",children:e.jsx(z,{selectedEquipment:s.equipment,onEquipmentChange:a=>i({...s,equipment:a})})})]})]}),t===4&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Payment"}),e.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Booking Summary"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Facility:"}),e.jsx("span",{className:"font-medium",children:s.facility?.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Date:"}),e.jsx("span",{className:"font-medium",children:s.date})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Time:"}),e.jsx("span",{className:"font-medium",children:s.time})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Duration:"}),e.jsxs("span",{className:"font-medium",children:[s.facility?.slot_duration||4," hours"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Rate:"}),e.jsxs("span",{className:"font-medium",children:["$",s.facility?.price_per_hour,"/hour"]})]}),e.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-300",children:[e.jsx("span",{className:"font-semibold",children:"Total Amount:"}),e.jsxs("span",{className:"font-bold text-blue-600",children:["$",x()]})]}),s.paymentMethod==="cash"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between text-sm pt-2",children:[e.jsx("span",{className:"text-amber-700",children:"Deposit Required (10%):"}),e.jsxs("span",{className:"font-semibold text-amber-700",children:["$",m()]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Pay on Arrival:"}),e.jsxs("span",{className:"font-medium text-gray-600",children:["$",b()]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center p-4 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"radio",name:"payment",value:"cash",checked:s.paymentMethod==="cash",onChange:a=>i({...s,paymentMethod:a.target.value}),className:"mr-3"}),e.jsx("span",{children:"Cash on Arrival"})]}),e.jsxs("label",{className:"flex items-center p-4 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"radio",name:"payment",value:"bank_transfer",checked:s.paymentMethod==="bank_transfer",onChange:a=>i({...s,paymentMethod:a.target.value}),className:"mr-3"}),e.jsx("span",{children:"Bank Transfer"})]})]})]}),(s.paymentMethod==="cash"||s.paymentMethod==="bank_transfer")&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Upload Payment Receipt ",e.jsx("span",{className:"text-red-600",children:"*"}),e.jsx("span",{className:"text-amber-600 ml-1",children:"(10% Deposit Receipt Required)"})]}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg hover:border-blue-400 transition-colors",children:e.jsxs("div",{className:"space-y-1 text-center",children:[e.jsx(Y,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsxs("div",{className:"flex text-sm text-gray-600",children:[e.jsxs("label",{htmlFor:"receipt-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[e.jsx("span",{children:"Upload a file"}),e.jsx("input",{id:"receipt-upload",name:"receipt-upload",type:"file",accept:"image/*,.pdf",className:"sr-only",onChange:a=>{const r=a.target.files[0];r&&i({...s,receiptFile:r})}})]}),e.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, PDF up to 10MB"}),s.receiptFile&&e.jsxs("div",{className:"mt-2 flex items-center justify-center gap-2 text-sm text-green-600",children:[e.jsx(B,{className:"h-5 w-5"}),e.jsx("span",{children:s.receiptFile.name})]})]})}),s.paymentMethod==="cash"&&e.jsxs("div",{className:"mt-2 space-y-3",children:[e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-800",children:[e.jsx("strong",{children:"Bank Details for Deposit Transfer:"}),e.jsx("br",{}),"Maybank - ODEC UMS Beach Club",e.jsx("br",{}),"Account: 1234567890",e.jsx("br",{}),"Amount: $",(parseFloat(x())*.1).toFixed(2)," (10% deposit)"]})}),n&&e.jsxs("div",{className:"p-4 bg-white border-2 border-blue-300 rounded-lg",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2 text-center",children:"Scan QR Code to Pay"}),e.jsx("img",{src:n.startsWith("http")||n.startsWith("/storage/")?n:`/storage/${n}`,alt:"Payment QR Code",className:"max-w-full h-auto mx-auto rounded",style:{maxHeight:"250px"}}),e.jsx("p",{className:"text-xs text-gray-600 text-center mt-2",children:"Scan this QR code with your banking app to pay the deposit"})]})]}),s.paymentMethod==="bank_transfer"&&e.jsxs("div",{className:"mt-2 space-y-3",children:[e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-800",children:[e.jsx("strong",{children:"Bank Details for Deposit Transfer:"}),e.jsx("br",{}),"Maybank - ODEC UMS Beach Club",e.jsx("br",{}),"Account: 1234567890",e.jsx("br",{}),"Amount: $",m()," (10% deposit)"]})}),n&&e.jsxs("div",{className:"p-4 bg-white border-2 border-blue-300 rounded-lg",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2 text-center",children:"Scan QR Code to Pay"}),e.jsx("img",{src:n.startsWith("http")||n.startsWith("/storage/")?n:`/storage/${n}`,alt:"Payment QR Code",className:"max-w-full h-auto mx-auto rounded",style:{maxHeight:"250px"}}),e.jsx("p",{className:"text-xs text-gray-600 text-center mt-2",children:"Scan this QR code with your banking app to pay the full amount"})]})]})]})]})]}),t===5&&e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
                                    @media print {
                                        body * {
                                            visibility: hidden;
                                        }
                                        .printable-area, .printable-area * {
                                            visibility: visible;
                                        }
                                        .printable-area {
                                            position: absolute;
                                            left: 0;
                                            top: 0;
                                            width: 100%;
                                        }
                                        .no-print {
                                            display: none !important;
                                        }
                                        .print-header {
                                            display: block !important;
                                            margin-bottom: 20px;
                                            padding-bottom: 20px;
                                            border-bottom: 2px solid #000;
                                        }
                                        .security-watermark {
                                            display: block !important;
                                        }
                                        .security-border {
                                            border: 3px double #000 !important;
                                            padding: 20px !important;
                                        }
                                    }
                                    .print-header {
                                        display: none;
                                    }
                                    .security-watermark {
                                        display: none;
                                        position: fixed;
                                        top: 50%;
                                        left: 50%;
                                        transform: translate(-50%, -50%) rotate(-45deg);
                                        font-size: 120px;
                                        font-weight: bold;
                                        color: rgba(0, 0, 0, 0.05);
                                        z-index: -1;
                                        pointer-events: none;
                                        white-space: nowrap;
                                    }
                                `}),e.jsx("div",{className:"security-watermark",children:"OFFICIAL RECEIPT"}),e.jsx("div",{className:"py-8 printable-area",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"print-header text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"ODEC UMS BEACH CLUB"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Official Booking System"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Facility Booking Confirmation"}),e.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Issued: ",new Date().toLocaleString("en-MY",{timeZone:"Asia/Kuala_Lumpur",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),e.jsxs("div",{className:"text-center mb-8 no-print",children:[e.jsx(B,{className:"h-20 w-20 text-green-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Confirmed!"}),e.jsx("p",{className:"text-gray-600",children:"Your booking has been successfully submitted."})]}),e.jsx("div",{className:"flex justify-end mb-4 no-print",children:e.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[e.jsx(G,{className:"h-5 w-5"}),"Print Confirmation"]})}),e.jsxs("div",{className:"bg-white border-2 border-gray-300 rounded-lg p-6 mb-6 security-border",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white p-4 -m-6 mb-6 rounded-t-lg",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-wide opacity-90",children:"Official Document"}),e.jsx("h3",{className:"text-xl font-bold mt-1",children:"Booking Confirmation"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs opacity-90",children:"Reference No."}),e.jsx("p",{className:"text-lg font-mono font-bold tracking-wider",children:c})]})]})}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx(J,{className:"h-5 w-5 text-gray-400 mr-3 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Facility"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.facility?.name})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx(K,{className:"h-5 w-5 text-gray-400 mr-3 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Time"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.time})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx(M,{className:"h-5 w-5 text-gray-400 mr-3 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Date"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.date})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx(U,{className:"h-5 w-5 text-gray-400 mr-3 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Booked By"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.name})]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Duration"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[s.facility?.slot_duration||4," hours"]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Rate"}),e.jsxs("span",{className:"font-medium text-gray-900",children:["$",s.facility?.price_per_hour,"/hour"]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Payment Method"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[s.paymentMethod==="credit_card"&&"Credit Card",s.paymentMethod==="cash"&&"Cash on Arrival (10% Deposit)",s.paymentMethod==="bank_transfer"&&"Bank Transfer (10% Deposit)"]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-300",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Total Booking Amount"}),e.jsxs("span",{className:"font-semibold text-gray-900",children:["$",x()]})]}),(s.paymentMethod==="cash"||s.paymentMethod==="bank_transfer")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center pt-2",children:[e.jsx("span",{className:"text-sm font-bold text-amber-700",children:"Amount Paid (10% Deposit)"}),e.jsxs("span",{className:"font-bold text-lg text-amber-700",children:["$",m()]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Balance Due at Check-in"}),e.jsxs("span",{className:"font-semibold text-gray-900",children:["$",b()]})]})]})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t-2 border-dashed border-gray-300",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"VERIFICATION INFORMATION"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-600",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Document ID:"})," ",c]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Issue Date:"})," ",new Date().toLocaleDateString("en-MY")]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"font-medium",children:"Verification:"})," This is an official booking confirmation from ODEC UMS Beach Club"]})]})]}),e.jsx("div",{className:"mt-3 p-3 bg-amber-50 border border-amber-200 rounded",children:e.jsxs("p",{className:"text-xs text-amber-900",children:[e.jsx("span",{className:"font-bold",children:"⚠ IMPORTANT:"})," This document is for verification purposes only. Please present this confirmation along with valid identification upon arrival. Any alterations to this document will render it invalid."]})})]})]}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["A confirmation email has been sent to ",e.jsx("span",{className:"font-medium text-gray-900",children:s.email})," with all the booking details."]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["For verification inquiries, contact ODEC UMS Beach Club with reference number: ",e.jsx("span",{className:"font-mono font-semibold",children:c})]})]}),s.paymentMethod==="cash"&&e.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-500 p-6 rounded-lg mb-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-6 w-6 text-amber-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("h3",{className:"text-base font-semibold text-amber-900 mb-2",children:"Cash on Arrival - Payment Instructions"}),e.jsxs("div",{className:"text-sm text-amber-800 space-y-3",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-amber-200",children:[e.jsx("p",{className:"font-semibold text-amber-900 mb-2",children:"Payment Breakdown:"}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total Amount:"}),e.jsxs("span",{className:"font-semibold",children:["$",x()]})]}),e.jsxs("div",{className:"flex justify-between text-amber-700 bg-amber-50 p-2 rounded",children:[e.jsx("span",{className:"font-semibold",children:"Deposit Required (10%):"}),e.jsxs("span",{className:"font-bold",children:["$",m()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Remaining Balance:"}),e.jsxs("span",{className:"font-semibold",children:["$",b()]})]})]})]}),e.jsx("p",{className:"font-medium",children:"Please follow these steps:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-2",children:[e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold",children:"Pay Deposit:"})," Transfer the 10% deposit (",e.jsxs("span",{className:"font-bold",children:["$",m()]}),") to secure your booking",e.jsxs("div",{className:"ml-6 mt-1 text-xs bg-blue-50 p-2 rounded border border-blue-200",children:[e.jsx("p",{className:"font-semibold text-blue-900",children:"Bank Details:"}),e.jsx("p",{children:"Maybank - ODEC UMS Beach Club"}),e.jsx("p",{children:"Account: 1234567890"}),e.jsxs("p",{children:["Reference: ",c]})]})]}),e.jsx("li",{children:"Arrive at ODEC UMS Beach Club on your booking date"}),e.jsxs("li",{children:["Present your booking reference number: ",e.jsx("span",{className:"font-bold",children:c})]}),e.jsxs("li",{children:["Pay the remaining balance of ",e.jsxs("span",{className:"font-bold",children:["$",b()]})," at the reception desk"]}),e.jsx("li",{children:"Collect your receipt and enjoy your facility!"})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-3 mt-3",children:[e.jsx("p",{className:"text-xs font-semibold text-yellow-900 mb-1",children:"⚠️ Important:"}),e.jsxs("ul",{className:"text-xs text-yellow-800 space-y-1 ml-4 list-disc",children:[e.jsx("li",{children:"Deposit must be paid within 24 hours to confirm your booking"}),e.jsx("li",{children:"Receipt has been uploaded with your booking"}),e.jsx("li",{children:"Please arrive at least 15 minutes before your scheduled time"})]})]})]})]})]})}),s.paymentMethod==="bank_transfer"&&e.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-6 rounded-lg mb-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("h3",{className:"text-base font-semibold text-blue-900 mb-2",children:"Bank Transfer - Payment Instructions"}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-3",children:[e.jsx("p",{className:"font-medium",children:"Please transfer the deposit amount to:"}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-blue-200 space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Bank Name:"}),e.jsx("span",{className:"font-semibold",children:"Maybank"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Account Name:"}),e.jsx("span",{className:"font-semibold",children:"ODEC UMS Beach Club"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Account Number:"}),e.jsx("span",{className:"font-semibold",children:"1234567890"})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2",children:[e.jsx("span",{className:"text-gray-600",children:"Deposit Amount (10%):"}),e.jsxs("span",{className:"font-bold text-lg text-blue-600",children:["$",m()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Reference:"}),e.jsx("span",{className:"font-semibold",children:c})]})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-3",children:[e.jsx("p",{className:"text-xs font-semibold text-yellow-900 mb-1",children:"⚠️ Important:"}),e.jsxs("ul",{className:"text-xs text-yellow-800 space-y-1 ml-4 list-disc",children:[e.jsxs("li",{children:["Include your booking reference number ",e.jsx("span",{className:"font-bold",children:c})," in the transfer description"]}),e.jsx("li",{children:"Receipt has been uploaded with your booking"}),e.jsxs("li",{children:["Pay remaining balance of ",e.jsxs("span",{className:"font-bold",children:["$",b()]})," at check-in"]})]})]})]})]})]})}),e.jsxs("div",{className:"flex gap-4 justify-center no-print",children:[e.jsx("button",{onClick:()=>window.location.href="/book-facility",className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Make Another Booking"}),e.jsx("button",{onClick:()=>window.location.href="/my-bookings",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"View My Bookings"})]})]})})]}),t<5&&e.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-gray-200",children:[e.jsx("button",{onClick:E,disabled:t===1,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Back"}),e.jsx("button",{onClick:t===4?q:u,disabled:t===2&&(!s.date||!s.time)||t===3&&(!s.phone||!s.attendees||!s.purpose)||t===4&&(!s.paymentMethod||(s.paymentMethod==="cash"||s.paymentMethod==="bank_transfer")&&!s.receiptFile),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:t===4?"Confirm Booking":"Next"})]})]})]})})]})}export{ie as default};
